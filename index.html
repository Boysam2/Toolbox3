<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø¬Ø¹Ø¨Ù‡ Ø§Ø¨Ø²Ø§Ø± Û³ (Ú©ÙˆÚ©Ø¨ ØªÚ©)</title>
    <style>
        /* ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú©Ù„ÛŒ Ùˆ ÙÙˆÙ†Øª */
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #50e3c2;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333333;
            --header-height: 60px;
            --nav-height: 70px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Tahoma', 'Segoe UI', Geneva, Verdana, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
            padding-bottom: var(--nav-height);
        }

        /* Ù‡Ø¯Ø± */
        header {
            background: linear-gradient(135deg, var(--primary-color), #357abd);
            color: white;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        header h1 {
            font-size: 1.2rem;
            margin: 0;
        }

        /* ØµÙØ­Ù‡ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ùˆ ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒØ³ØªÙ… */
        #system-check {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #fff;
            z-index: 2000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            transition: opacity 0.5s ease;
        }

        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .status-text {
            font-size: 0.9rem;
            color: #666;
            margin-top: 10px;
        }

        /* Ú©Ø§Ù†ØªÛŒÙ†Ø± Ø§ØµÙ„ÛŒ */
        main {
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            display: none; /* Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ Ù…Ø®ÙÛŒ Ø§Ø³Øª ØªØ§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ù…Ù„ Ø´ÙˆØ¯ */
        }

        /* Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ Ùˆ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ */
        .grid-menu {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .menu-btn {
            background: var(--card-bg);
            border: none;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .menu-btn:active {
            transform: scale(0.95);
        }

        .menu-btn i {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .menu-btn span {
            font-weight: bold;
            font-size: 0.95rem;
        }

        /* ØµÙØ­Ø§Øª Ø¯Ø§Ø®Ù„ÛŒ */
        .page {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .page-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .back-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--primary-color);
            margin-left: 10px;
        }

        .page-title {
            font-size: 1.3rem;
            font-weight: bold;
        }

        /* Ù„ÛŒØ³Øªâ€ŒÙ‡Ø§ Ùˆ Ø²ÛŒØ±Ù…Ù†ÙˆÙ‡Ø§ */
        .sub-menu {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .sub-btn {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: right;
            border: 1px solid #eee;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }

        .sub-btn:hover {
            background: #f9f9f9;
        }

        .sub-btn::after {
            content: 'ğŸ”—';
            font-size: 1.2rem;
        }

        /* Ù†ÙˆØ§Ø± Ù¾ÛŒÙ…Ø§ÛŒØ´ Ù¾Ø§ÛŒÛŒÙ† */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
            z-index: 1000;
        }

        .nav-item {
            text-align: center;
            font-size: 0.7rem;
            color: #888;
            cursor: pointer;
            flex: 1;
        }

        .nav-item.active {
            color: var(--primary-color);
        }

        .nav-icon {
            font-size: 1.4rem;
            display: block;
            margin-bottom: 3px;
        }

        /* ÙØ±Ù… Ø¬Ø³ØªØ¬Ùˆ */
        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .search-input {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
        }

        .search-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0 20px;
            border-radius: 8px;
            cursor: pointer;
        }

        /* Ø¢ÛŒâ€ŒÙØ±ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ÛŒ Ù…Ø­ØªÙˆØ§ */
        .content-frame {
            width: 100%;
            height: 80vh;
            border: none;
            border-radius: 10px;
            background: #fff;
            margin-top: 10px;
            display: none;
        }

        /* Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ… */
        .toast {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 3000;
        }

        .toast.show {
            opacity: 1;
        }

    </style>
</head>
<body>

    <!-- ØµÙØ­Ù‡ Ø¨Ø±Ø±Ø³ÛŒ Ø³ÛŒØ³ØªÙ… -->
    <div id="system-check">
        <div class="loader"></div>
        <h2>Ú©ÙˆÚ©Ø¨ ØªÚ©</h2>
        <p class="status-text" id="status-msg">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø­ÛŒØ· Ø§Ø¬Ø±Ø§...</p>
    </div>

    <!-- Ù‡Ø¯Ø± Ø§ØµÙ„ÛŒ -->
    <header>
        <h1>Ø¬Ø¹Ø¨Ù‡ Ø§Ø¨Ø²Ø§Ø± Û³ (Ú©ÙˆÚ©Ø¨ ØªÚ©)</h1>
    </header>

    <!-- Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ -->
    <main id="main-content">
        
        <!-- ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ -->
        <div id="home-page" class="page active">
            <div class="grid-menu">
                <button class="menu-btn" onclick="navigateTo('tests-page')">
                    <i>ğŸ“</i>
                    <span>Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§</span>
                </button>
                <button class="menu-btn" onclick="navigateTo('games-page')">
                    <i>ğŸ®</i>
                    <span>Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§</span>
                </button>
                <button class="menu-btn" onclick="navigateTo('ai-page')">
                    <i>ğŸ¤–</i>
                    <span>Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</span>
                </button>
                <button class="menu-btn" onclick="navigateTo('search-page')">
                    <i>ğŸŒ</i>
                    <span>Ø¬Ø³ØªØ¬ÙˆÛŒ ÙˆØ¨</span>
                </button>
                <button class="menu-btn" onclick="navigateTo('fal-page')">
                    <i>ğŸ”®</i>
                    <span>ÙØ§Ù„ Ø­Ø§ÙØ¸</span>
                </button>
                <button class="menu-btn" onclick="showToast('Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ´ØªØ± Ø¯Ø± Ø­Ø§Ù„ ØªÙˆØ³Ø¹Ù‡ Ù‡Ø³ØªÙ†Ø¯')">
                    <i>âš™ï¸</i>
                    <span>ØªÙ†Ø¸ÛŒÙ…Ø§Øª</span>
                </button>
            </div>
        </div>

        <!-- ØµÙØ­Ù‡ Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ -->
        <div id="tests-page" class="page">
            <div class="page-header">
                <button class="back-btn" onclick="navigateTo('home-page')">âœ</button>
                <span class="page-title">Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§ÛŒ Ù†Ù‡Ù…</span>
            </div>
            <div class="sub-menu">
                <div class="sub-btn" onclick="openExternal('https://paadars.com/class9/math_1/samples/finalone/')">
                    PDF Ù‡Ø§ÛŒ Ø¢Ø²Ù…ÙˆÙ†
                </div>
                <div class="sub-btn" onclick="openExternal('https://www.kanoon.ir/Public/ExamQuestions?group=27&lesson=7')">
                    Ø¨Ø§Ù†Ú© Ø³ÙˆØ§Ù„Ø§Øª Ú©Ù†Ú©ÙˆØ±
                </div>
                <div class="sub-btn" onclick="openExternal('https://ino.school/app/learning/Ø§Ù…ØªØ­Ø§Ù†Ø§Øª-Ù¾Ø§ÛŒÙ‡-Ù†Ù‡Ù…/Ø±ÛŒØ§Ø¶ÛŒ-Ù†Ù‡Ù…/Ø§Ù…ØªØ­Ø§Ù†')">
                    Ø¢Ø±Ø´ÛŒÙˆ Ø§Ù…ØªØ­Ø§Ù†Ø§Øª
                </div>
                <div class="sub-btn" onclick="openExternal('https://gama.ir/azmoon/50488/Ø¢Ø²Ù…ÙˆÙ†-Ù†ÙˆØ¨Øª-Ø§ÙˆÙ„-Ø±ÛŒØ§Ø¶ÛŒ-Ù¾Ø§ÛŒÙ‡-Ù†Ù‡Ù…-ÙØµÙ„-Û±-ØªØ§-Û´')">
                    Ø¢Ø²Ù…ÙˆÙ† Ø¢Ù†Ù„Ø§ÛŒÙ† Ø¨Ø§ Ù†Ù…Ø±Ù‡ Ø¯Ù‡ÛŒ
                </div>
            </div>
        </div>

        <!-- ØµÙØ­Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ -->
        <div id="games-page" class="page">
            <div class="page-header">
                <button class="back-btn" onclick="navigateTo('home-page')">âœ</button>
                <span class="page-title">Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§</span>
            </div>
            <div class="sub-menu">
                <div class="sub-btn" onclick="openGame('https://funnigames.ir/bale/play/survivor')">Ø¢Ø®Ø±ÛŒÙ† Ù…Ø¨Ø§Ø±Ø²</div>
                <div class="sub-btn" onclick="openGame('https://funnigames.ir/bale/play/shifty-pet')">Ú¯Ø±Ø¨Ù‡ Ù„ØºØ²Ø§Ù†</div>
                <div class="sub-btn" onclick="openGame('https://funnigames.ir/bale/play/jump-up-3d-training')">Ø¨Ø³Ú©ØªØ¨Ø§Ù„</div>
                <div class="sub-btn" onclick="openGame('https://games.codica.game/files/chapter_1_1/ver2.2.4_release/index.html?u=ef48f116-dc11-4285-8b77-b7cecf9fe190&s=29')">Ú©Ø¯ÛŒ (Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ)</div>
                <div class="sub-btn" onclick="openGame('http://hamrahgameland.ir/Games/KamionRang')">Ú©Ø§Ù…ÛŒÙˆÙ† Ùˆ Ø±Ù†Ú¯</div>
            </div>
            <!-- ÙØ±ÛŒÙ… Ø§Ø¬Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒ -->
            <iframe id="game-frame" class="content-frame" src=""></iframe>
        </div>

        <!-- ØµÙØ­Ù‡ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ -->
        <div id="ai-page" class="page">
            <div class="page-header">
                <button class="back-btn" onclick="navigateTo('home-page')">âœ</button>
                <span class="page-title">Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</span>
            </div>
            <div class="sub-menu">
                <div class="sub-btn" onclick="openExternal('https://tools-gallery.boofai.com')">Ø§Ø¨Ø²Ø§Ø± Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</div>
                <div class="sub-btn" onclick="navigateTo('ai-chat-subpage')">Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ú†Øª</div>
            </div>
        </div>

        <!-- Ø²ÛŒØ±ØµÙØ­Ù‡ Ú†Øª Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ -->
        <div id="ai-chat-subpage" class="page">
            <div class="page-header">
                <button class="back-btn" onclick="navigateTo('ai-page')">âœ</button>
                <span class="page-title">Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø¯Ù„ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</span>
            </div>
            <div class="sub-menu">
                <div class="sub-btn" onclick="openExternal('https://chat.hooshzy.ir')">Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø²ÛŒ</div>
                <div class="sub-btn" onclick="openExternal('https://chat.boofai.com')">Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø¨ÙˆÙ</div>
            </div>
        </div>

        <!-- ØµÙØ­Ù‡ Ø¬Ø³ØªØ¬ÙˆÛŒ ÙˆØ¨ -->
        <div id="search-page" class="page">
            <div class="page-header">
                <button class="back-btn" onclick="navigateTo('home-page')">âœ</button>
                <span class="page-title">Ø¬Ø³ØªØ¬ÙˆÛŒ ÙˆØ¨</span>
            </div>
            <div class="sub-menu">
                <div class="sub-btn" onclick="openExternal('https://zarebin.ir')">Ù…ÙˆØªÙˆØ± Ø¬Ø³ØªØ¬ÙˆÛŒ Ø²Ø±Ø¨ÛŒÙ†</div>
                <div class="sub-btn" onclick="openExternal('https://google.com')">Ú¯ÙˆÚ¯Ù„</div>
            </div>
            <div style="margin-top: 20px; background: white; padding: 15px; border-radius: 10px;">
                <h3>Ø¬Ø³ØªØ¬ÙˆÛŒ Ø´Ø§Ø¯Ø¨ÛŒÙ†</h3>
                <div class="search-box">
                    <input type="text" id="shaadbin-input" class="search-input" placeholder="Ù…ØªÙ† Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯...">
                    <button class="search-btn" onclick="searchShaadbin()">Ø¬Ø³ØªØ¬Ùˆ</button>
                </div>
            </div>
        </div>

        <!-- ØµÙØ­Ù‡ ÙØ§Ù„ Ø­Ø§ÙØ¸ -->
        <div id="fal-page" class="page">
            <div class="page-header">
                <button class="back-btn" onclick="navigateTo('home-page')">âœ</button>
                <span class="page-title">ÙØ§Ù„ Ø­Ø§ÙØ¸</span>
            </div>
            <div style="text-align: center; margin-top: 30px;">
                <p>Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª ÙØ§Ù„ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯:</p>
                <button class="menu-btn" style="width: 200px; height: 200px; border-radius: 50%; margin: 20px auto; background: linear-gradient(45deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%);" onclick="openExternal('https://hafez.eitaa.com')">
                    <i style="font-size: 4rem;">ğŸ“œ</i>
                    <span style="font-size: 1.2rem; margin-top: 10px;">Ø¯Ø±ÛŒØ§ÙØª ÙØ§Ù„</span>
                </button>
            </div>
        </div>

    </main>

    <!-- Ù†ÙˆØ§Ø± Ù¾ÛŒÙ…Ø§ÛŒØ´ Ù¾Ø§ÛŒÛŒÙ† -->
    <nav class="bottom-nav">
        <div class="nav-item active" onclick="navigateTo('home-page')">
            <span class="nav-icon">ğŸ </span>
            Ø®Ø§Ù†Ù‡
        </div>
        <div class="nav-item" onclick="navigateTo('tests-page')">
            <span class="nav-icon">ğŸ“</span>
            Ø¢Ø²Ù…ÙˆÙ†
        </div>
        <div class="nav-item" onclick="navigateTo('games-page')">
            <span class="nav-icon">ğŸ®</span>
            Ø¨Ø§Ø²ÛŒ
        </div>
        <div class="nav-item" onclick="navigateTo('ai-page')">
            <span class="nav-icon">ğŸ¤–</span>
            Ù‡ÙˆØ´
        </div>
    </nav>

    <!-- Ù¾ÛŒØ§Ù… ØªÙˆØ³Øª -->
    <div id="toast" class="toast">Ù¾ÛŒØ§Ù… Ø³ÛŒØ³ØªÙ…</div>

    <script>
        // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø³Ø±Ø§Ø³Ø±ÛŒ
        const statusMsg = document.getElementById('status-msg');
        const systemCheck = document.getElementById('system-check');
        const mainContent = document.getElementById('main-content');
        const gameFrame = document.getElementById('game-frame');

        // Û±. Ø¨Ø±Ø±Ø³ÛŒ Ø³ÛŒØ³ØªÙ… Ùˆ Ø´Ø±ÙˆØ¹
        window.addEventListener('load', async () => {
            await checkSystem();
        });

        async function checkSystem() {
            updateStatus('Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ù…Ø­ÛŒØ· Ø³Ø®Øªâ€ŒØ§ÙØ²Ø§Ø±ÛŒ...');
            await delay(800);
            
            updateStatus('Ø¨Ø±Ø±Ø³ÛŒ Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª...');
            const isOnline = navigator.onLine;
            if (!isOnline) {
                showToast('Ù‡Ø´Ø¯Ø§Ø±: Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¨Ø±Ù‚Ø±Ø§Ø± Ù†ÛŒØ³Øª');
            }
            await delay(800);

            updateStatus('Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§ÛŒ Ú¯Ø±Ø§ÙÛŒÚ©ÛŒ...');
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù„ÙˆØ¯ Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡â€ŒÙ‡Ø§
            await delay(1000);

            updateStatus('Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ...');
            await delay(500);

            updateStatus('Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø­ÛŒØ· Ø§Ø¬Ø±Ø§...');
            await delay(500);

            // Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ
            systemCheck.style.opacity = '0';
            setTimeout(() => {
                systemCheck.style.display = 'none';
                mainContent.style.display = 'block';
                showToast('Ø¨Ù‡ Ú©ÙˆÚ©Ø¨ ØªÚ© Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯');
            }, 500);
        }

        function updateStatus(text) {
            statusMsg.textContent = text;
        }

        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // Û². Ù…Ø¯ÛŒØ±ÛŒØª Ù†Ø§ÙˆØ¨Ø±ÛŒ (SPA)
        function navigateTo(pageId) {
            // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù‡Ù…Ù‡ ØµÙØ­Ø§Øª
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Ù†Ù…Ø§ÛŒØ´ ØµÙØ­Ù‡ Ù‡Ø¯Ù
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
                window.scrollTo(0, 0);
            }

            // Ø¨Ø³ØªÙ† ÙØ±ÛŒÙ… Ø¨Ø§Ø²ÛŒ Ø§Ú¯Ø± Ø¨Ø§Ø² Ø¨ÙˆØ¯
            gameFrame.style.display = 'none';
            gameFrame.src = '';

            // Ø¢Ù¾Ø¯ÛŒØª Ù†ÙˆØ§Ø± Ù¾Ø§ÛŒÛŒÙ†
            updateBottomNav(pageId);
        }

        function updateBottomNav(pageId) {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Ù…Ù†Ø·Ù‚ Ø³Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§
            if (pageId === 'home-page') document.querySelectorAll('.nav-item')[0].classList.add('active');
            if (pageId === 'tests-page') document.querySelectorAll('.nav-item')[1].classList.add('active');
            if (pageId === 'games-page') document.querySelectorAll('.nav-item')[2].classList.add('active');
            if (pageId === 'ai-page') document.querySelectorAll('.nav-item')[3].classList.add('active');
        }

        // Û³. Ù…Ø¯ÛŒØ±ÛŒØª Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ Ùˆ Ø§Ø¬Ø±Ø§
        function openExternal(url) {
            // Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ø¯Ø± ØªØ¨ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ ØªØ¬Ø±Ø¨Ù‡ Ú©Ø§Ù…Ù„
            window.open(url, '_blank');
        }

        function openGame(url) {
            // ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ø¯Ø± Ø¢ÛŒâ€ŒÙØ±ÛŒÙ…
            gameFrame.src = url;
            gameFrame.style.display = 'block';
            
            // Ø§Ø³Ú©Ø±ÙˆÙ„ Ø¨Ù‡ Ù¾Ø§ÛŒÛŒÙ†
            setTimeout(() => {
                gameFrame.scrollIntoView({ behavior: 'smooth' });
            }, 100);

            showToast('Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¨Ø§Ø²ÛŒ...');
        }

        // Û´. Ø¬Ø³ØªØ¬ÙˆÛŒ Ø´Ø§Ø¯Ø¨ÛŒÙ†
        function searchShaadbin() {
            const query = document.getElementById('shaadbin-input').value;
            if (query.trim() === '') {
                showToast('Ù„Ø·ÙØ§ Ù…ØªÙ†ÛŒ Ø¨Ø±Ø§ÛŒ Ø¬Ø³ØªØ¬Ùˆ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                return;
            }
            const url = `https://shaadbin.ir/search?q=${encodeURIComponent(query)}`;
            window.open(url, '_blank');
        }

        // Ûµ. Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… (Toast)
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Û¶. Ú©Ù†ØªØ±Ù„ Ø®Ø·Ø§ Ùˆ Ù¾Ø§ÛŒØ¯Ø§Ø±ÛŒ
        window.addEventListener('error', (e) => {
            console.error('Ø®Ø·Ø§ÛŒ Ø³ÛŒØ³ØªÙ…:', e);
            showToast('ÛŒÚ© Ø®Ø·Ø§ÛŒ Ø¬Ø²Ø¦ÛŒ Ø±Ø® Ø¯Ø§Ø¯ Ø§Ù…Ø§ Ø³ÛŒØ³ØªÙ… Ù¾Ø§ÛŒØ¯Ø§Ø± Ø§Ø³Øª');
        });

        window.addEventListener('offline', () => {
            showToast('Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ù‚Ø·Ø¹ Ø´Ø¯');
        });

        window.addEventListener('online', () => {
            showToast('Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¨Ø±Ù‚Ø±Ø§Ø± Ø´Ø¯');
        });

    </script>
</body>
</html>